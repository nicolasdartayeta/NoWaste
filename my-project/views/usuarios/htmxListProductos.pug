div(class='flex flex-col items-center justify-center p-4 w-full')    
    p(class='text-2xl font-bold leading-9 tracking-tight bg-gradient-to-t from-lime-700 to-green-900 bg-clip-text text-transparent') Productos
    
    if restaurantesList.length 
        div(class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")
            each restaurante in restaurantesList
                //if restaurante.ciudad == ciudad      si lo dejas no muestra productos en /user              
                each producto in restaurante.producto
                    if producto.stock > 0
                        div
                            ul
                                p Local: #{restaurante.nombre}
                                each valor, atributo in producto
                                    if (atributo == 'imagenesProducto')
                                        section(class="container")
                                            div.slider-wrapper
                                                - let counter = 0
                                                div.slider-nav
                                                    each imagen in valor
                                                        a(href = '#img_'+ imagen.id +(counter++))
                                                - counter = 0
                                                div.slider
                                                    each imagen in valor
                                                        img(id='img_'+ imagen.id+(counter++) src='/static/images/'+imagen.id onerror="this.remove()")
                                    else
                                        if (atributo == 'nombre') || (atributo == 'precio') || (atributo == 'descripcion') || (atributo == 'stock')
                                            p #{atributo}: #{valor}

                                if (producto.stock > 0)
                                    form(action=`/user/compra/${restaurante._id}/${producto._id}`, method="POST")
                                        label(for=`cantidad-${producto._id}`) Cantidad:
                                        input(type="number", id=`cantidad-${producto._id}`, name=`cantidad`, min="1", max=producto.stock, value="1")
                                        button(type="submit" class="w-full block rounded-lg px-4 py-2 text-sm text-center font-medium bg-green-900/30 hover:bg-green-800/30 hover:text-gray-100") Comprar 
                    else
                        script.
                            async function deleteProduct(restauranteId, nombreProducto) {
                                try {
                                    const response = await fetch(`/admin/restaurantes/${restauranteId}/deleteProduct/${nombreProducto}`, {
                                        method: 'delete'
                                    });
                                } catch (error) {
                                    console.error(`Error en la solicitud de eliminaci√≥n: ${error}`);
                                }
                            };
                            deleteProduct(`#{restaurante.id}`, `#{producto.nombre}`)
    else                                
        p No hay productos disponibles