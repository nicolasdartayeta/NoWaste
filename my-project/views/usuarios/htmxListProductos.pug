include ../componentes/productCard.pug
div(class='flex flex-col items-center justify-center p-4 w-full')
    p(class='text-2xl font-bold leading-9 tracking-tight bg-gradient-to-t from-lime-700 to-green-900 bg-clip-text text-transparent') Productos
    if productos.length 
        div(class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")      
            each producto in productos
                if producto.stock > 0
                    +productCard(producto,true,producto.restauranteNombre)
                else 
                    script.
                        async function deleteProduct(restauranteId, productoId) {
                            try {
                                const response = await fetch(`/admin/restaurantes/${restauranteId}/deleteProduct/${productoId}`, {
                                    method: 'delete'
                                });
                            } catch (error) {
                                console.error(`Error en la solicitud de eliminaci√≥n: ${error}`);
                            }
                        };
                        deleteProduct(`#{producto.restauranteId}`, `#{producto._id}`)
    else
        p No hay productos disponibles.
